{% extends 'base.html' %}
{% block content %}

<script type="text/javascript">
var global_buttonid;
var status;

var coursename;

function reply_click(clicked_id)
{
    //alert(clicked_id);
    global_buttonid = clicked_id;
    //document.getElementById("buttonid").innerHTML=global_buttonid;
    //var html = '<input type="hidden" name="buttonid">';

    //alert(document.getElementById('eachbutton').value);
    document.getElementById('eachbutton').value = global_buttonid;
    //alert(document.getElementById('eachbutton').value);

    document.getElementById('ButtonForm').submit();
    //document.ButtonForm.buttonid.value = global_buttonid;
}





</script>


    
    <form  action="/search/{{ TargetTutor.id }}/" method="get">
      <input id="Book" type="submit" value="Detailed Profile" />
    </form>

    <h1 id="bio">Booking Timetable<h1>

    {% include 'tutorUpperExtimetable.html' %}
    {% block shortline %}

	
	
	<!-- Olivia: add form for button -->
  
	
	<form action="." id="ButtonForm" name="ButtonForm" method="POST">{% csrf_token %}
	  
        
        <h5>
          
          <div class="container">

            

            <!-- make table -->
            <table class="table table-bordered">
            <thead>
            <tr>

               <th style="background-color:#fff8e1;"></div>
              {% for date in Dates %}
              
                <th style="background-color:#fff8e1;">{{ date }}</div>
             
              {% endfor %}





            </tr>

            
            
              
              <tr>
                <th style="background-color:#fff8e1;">
                <th style="background-color:#fff8e1;">SUNDAY</th>
                <th style="background-color:#fff8e1;">MONDAY</th>
                <th style="background-color:#fff8e1;">TUESDAY</th>
                <th style="background-color:#fff8e1;">WEDNESDAY</th>
                <th style="background-color:#fff8e1;">THURSDAY</th>
                <th style="background-color:#fff8e1;">FRIDAY</th>
                <th style="background-color:#fff8e1;">SATURDAY</th>
              </tr>
            </thead>

          
            {% for time in Times %}
              <tr>
              <td style="background-color:#fff8e1;">{{time}}</th>
              
              {% for date in Dates %}
              
                 
                   
                    

                    {% for eachsession in ListOfSessions%}


                        {%if eachsession.SessionDate == date and eachsession.StartTime == time%}
                          
                              

                            <td>
                            {%if eachsession.Status == "Free"%}
                              
                              <input class="btn active" id="{{ eachsession.Buttonid }}" type="button" value="                   " onclick="reply_click(this.id)" style="width:100%; background-color:#fff8e1;"/>
                             
                            {%elif eachsession.Status == "Booked"%}
                              
                              <input class="btn disabled" id="{{ eachsession.Buttonid }}" type="button" value="            " style="width:100%; background-color:#004d40;"/>
                            {%elif eachsession.Status == "SameDay"%}
                              
                              <input class="btn disabled" id="{{ eachsession.Buttonid }}" type="button" value="            " style="width:100%; background-color:#4B515D;"/>  
                            {%else%}
                              
                              <input class="btn disabled" id="{{ eachsession.Buttonid }}" type="button" value="            " style="width:100%; background-color:#000000;"/>
                              
                            {%endif%}
                            </td>


                            
                            
                        
                         

                          
                        {% endif %}
                    {% endfor %}
                    

                    
                   
              {% endfor %}
              </tr>
              

            {% endfor %}
          



            </table>
            <!-- finish-->
            <!-- 
            <br>
            <div class="row">
               <div class="col-lg-1" style="background-color:#fff8e1;"></div>
              {% for date in Dates %}
              
                <div class="col-lg-1" style="background-color:#fff8e1;">{{ date }}</div>
             
              {% endfor %}





            </div>


            <div class="row">
              <div class="col-lg-1" style="background-color:#fff8e1;"></div>
              <div class="col-lg-1" style="background-color:#fff8e1;">SUNDAY</div>
              <div class="col-lg-1" style="background-color:#fff8e1;">MONDAY</div>
              <div class="col-lg-1" style="background-color:#fff8e1;">TUESDAY</div>
              <div class="col-lg-1" style="background-color:#fff8e1;">WEDNESDAY</div>
              <div class="col-lg-1" style="background-color:#fff8e1;">THURSDAY</div>
              <div class="col-lg-1" style="background-color:#fff8e1;">FRIDAY</div>
              <div class="col-lg-1" style="background-color:#fff8e1;">SATURDAY</div>
            </div>

          
            {% for time in Times %}
              <div class="row">
              <div class="col-lg-1" style="background-color:#fff8e1;">{{time}}</div>
              
              {% for date in Dates %}
              
                 
                   
                    

                    {% for eachsession in ListOfSessions%}


                        {%if eachsession.SessionDate == date and eachsession.StartTime == time%}
                          
                              

                            
                            {%if eachsession.Status == "Free"%}
                              
                              <input class="col-lg-1 active" id="{{ eachsession.Buttonid }}" type="button" value="                   " onclick="reply_click(this.id)" style="background-color:#fff8e1;"/>
                             
                            {%elif eachsession.Status == "Booked"%}
                              
                              <input class="col-lg-1 disabled" id="{{ eachsession.Buttonid }}" type="button" value="            " style="background-color:#004d40;"/>
                            {%elif eachsession.Status == "SameDay"%}
                              
                              <input class="col-lg-1 disabled" id="{{ eachsession.Buttonid }}" type="button" value="            " style="background-color:#4B515D;"/>  
                            {%else%}
                              
                              <input class="col-lg-1 disabled" id="{{ eachsession.Buttonid }}" type="button" value="            " style="background-color:#000000;"/>
                              
                            {%endif%}


                            
                            
                        
                         

                          
                        {% endif %}
                    {% endfor %}

                    
                   
              {% endfor %}
              </div>

            {% endfor %}
          </div>
          -->


        </h5>

      <input type="hidden" id="eachbutton" name="eachbutton" value=""/>
        
     </form>
     
         {% endblock %}
      {% endblock %}
